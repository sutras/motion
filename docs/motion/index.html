<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="css/libs/animate.css" />
        <link rel="stylesheet" type="text/css" href="css/demo.css" />
        <script type="text/javascript" src="./js/motion.min.js"></script>
    </head>
    <body>
        <div id="motion-container" class="motion-container">
            <div class="motion-wrapper">
                <div class="motion-slide purple">1/3
                    <div class="slide slide-left lunbo-motion" data-motion="{
                        in: {name: 'slideInLeft'},
                        out: {name: 'slideOutLeft'}
                    }"></div>
                    <div class="slide slide-right lunbo-motion" id="box" data-motion="{
                        in: {name: 'slideInRight'},
                        out: {name: 'slideOutRight'}
                    }"></div>
                </div>
                <div class="motion-slide blue">2/3
                    <div class="slide slide-left lunbo-motion" data-motion="{
                        in: {name: 'fadeInDown'},
                        out: {name: 'fadeOutDown'}
                    }"></div>
                    <div class="slide slide-right lunbo-motion" data-motion="{
                        in: {name: 'fadeInUp'},
                        out: {name: 'fadeOutUp'}
                    }"></div>
                </div>
                <div class="motion-slide orange">3/3
                    <div class="slide slide-left lunbo-motion" data-motion="{
                        in: {name: 'bounceInLeft'},
                        out: {name: 'bounceOutLeft'}
                    }"></div>
                    <div class="slide slide-right lunbo-motion" data-motion="{
                        in: {name: 'bounceInRight'},
                        out: {name: 'bounceOutRight'}
                    }"></div>
                </div>
            </div>
            <div class="motion-button-left">&lt;</div>
            <div class="motion-button-right">&gt;</div>
        </div>

        <div class="block red motion" data-motion="[
                {name: 'fadeInDown', duration: '1s'},
                {name: 'swing', 'iterationCount': 'infinite'},
            ]"></div>
        <div class="block green motion" data-motion="{name: 'fadeInDown', duration: '1s'}"></div>
        <div class="block yellow motion" data-motion-expand-bottom="-600" data-motion="[
            {name: 'slideInUp', duration: '1s'},
            {name: 'shake', duration: '1s'}
        ]"></div>
        <div class="block orange motion" data-motion="[
            {name: 'zoomInDown', duration: '1s'},
            {name: 'swing', duration: '1s', 'iteration-count': 2}
        ]"></div>

        <div class="container">
            <div class="circle red motion" data-motion-name="fadeInLeft" data-motion-duration="1s"></div>
            <div class="circle orange motion" data-motion-name="fadeInUp" data-motion-duration="1s"></div>
            <div class="circle yellow motion" data-motion-name="fadeInRight" data-motion-duration="1s"></div>
            <div class="circle green motion" data-motion-name="bounceInLeft" data-motion-duration="1s"></div>
            <div class="circle cyan motion" data-motion-name="bounceInDown" data-motion-duration="1s"></div>
            <div class="circle blue motion" data-motion-name="bounceInRight" data-motion-duration="1s"></div>
            <div class="circle deep-blue motion" data-motion-name="flipInY" data-motion-duration="1s"></div>
            <div class="circle purple motion" data-motion-name="flipInX" data-motion-duration="1s"></div>
            <div class="circle pink motion" data-motion-name="lightSpeedIn" data-motion-duration="1s"></div>
            <div class="circle orange motion" data-motion-name="rotateInDownLeft" data-motion-duration="1s"></div>
            <div class="circle yellow motion" data-motion-name="flip" data-motion-duration="1s"></div>
            <div class="circle green motion" data-motion-name="rotateInDownRight" data-motion-duration="1s"></div>
            <div class="circle cyan motion" data-motion-name='slideInLeft' data-motion-duration="1s"></div>
            <div class="circle blue motion" data-motion-name="slideInUp" data-motion-duration="1s"></div>
            <div class="circle deep-blue motion" data-motion-name='slideInRight' data-motion-duration="1s"></div>
            <div class="circle purple motion" data-motion-name="zoomInLeft" data-motion-duration="1s"></div>
            <div class="circle red motion" data-motion-name="zoomInUp" data-motion-duration="1s"></div>
            <div class="circle pink motion" data-motion-name="zoomInRight" data-motion-duration="1s"></div>
            <div class="circle orange motion" data-motion-name="rollIn" data-motion-duration="1s"></div>
            <div class="circle yellow motion" data-motion-name="bounce" data-motion-duration="1s"></div>
            <div class="circle green motion" data-motion-name="flash" data-motion-duration="1s"></div>
            <div class="circle cyan motion" data-motion-name="pulse" data-motion-duration="1s"></div>
            <div class="circle blue motion" data-motion-name="rubberBand" data-motion-duration="1s"></div>
            <div class="circle deep-blue motion" data-motion-name="shake" data-motion-duration="1s"></div>
            <div class="circle purple motion" data-motion-name="rubberBand" data-motion-duration="1s"></div>
            <div class="circle pink motion" data-motion-name="tada" data-motion-duration="1s"></div>
            <div class="circle orange motion" data-motion-name="wobble" data-motion-duration="1s"></div>
        </div>

        <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />

        <script type="text/javascript">

            document.getElementById('box').addEventListener('start.motion', function() {
                console.log('start');
            });
            document.getElementById('box').addEventListener('end.motion', function() {
                console.log('end');
            });
            document.getElementById('box').addEventListener('finish.motion', function() {
                console.log('finish');
            });

            var container = document.getElementById('motion-container'),
                wrapper = container.querySelector('.motion-wrapper'),
                slides = wrapper.querySelectorAll('.motion-slide'),
                left = container.querySelector('.motion-button-left'),
                right = container.querySelector('.motion-button-right'),
                index = 0, l = slides.length,
                lunboMotion;

                gotoSlide = function() {
                    wrapper.style.marginLeft = -index * 1000 + 'px';
                };

            right.addEventListener('click', function() {
                var before = index;
                if ( ++index >= l ) {
                    index = l - 1;
                } else {
                    gotoSlide();
                    slideAni(index, before);
                }
            });
            left.addEventListener('click', function() {
                var before = index;
                if ( --index < 0 ) {
                    index = 0;
                } else {
                    gotoSlide();
                    slideAni(index, before);
                }
            });

            function slideAni(index, before) {
                [].slice.call(slides[index].querySelectorAll('.lunbo-motion')).forEach(function(box) {
                    lunboMotion.execute( box, 'in' );
                });
                if ( before ) {
                    [].slice.call(slides[before].querySelectorAll('.lunbo-motion')).forEach(function(box) {
                        lunboMotion.execute( box, 'out' );
                    });
                }
            }

            // 滚动
            motion({
                selector: '.motion',
                start: function() {
                    console.log('start');
                },
                end: function() {
                    console.log('end');
                },
                finish: function() {
                    console.log('finish');
                }
            });

            // 轮播图
            lunboMotion = motion({
                selector: '.lunbo-motion',
                duration: '2s'
            });
            slideAni(index);

        </script>
    </body>
</html>